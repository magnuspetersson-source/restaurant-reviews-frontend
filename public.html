<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Restaurant Reviews (Local test)</title>

  <!-- Samma CSS som Squarespace-kodblocket -->
  <link rel="stylesheet" href="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/css/public.css" />
</head>
<body>

  <div id="app" data-api-base="https://restaurant-reviews-backend-xi.vercel.app"></div>

  <script>
  (function () {
    var JS_BASE = "https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js";

    function loadScript(src) {
      return new Promise(function (resolve, reject) {
        var s = document.createElement("script");
        s.src = src;
        s.defer = true;
        s.onload = resolve;
        s.onerror = reject;
        document.head.appendChild(s);
      });
    }

    // Lokal config (IGNORERAS av git)
    loadScript("/js/config.local.js")
      .then(function () { console.log("[RR] Loaded /js/config.local.js"); })
      .catch(function () { console.log("[RR] No /js/config.local.js (ok in prod)"); })
      .finally(function () {
        var scripts = [
          JS_BASE + "/config.js",
          JS_BASE + "/utils/dom.js",
          JS_BASE + "/utils/format.js",
          JS_BASE + "/utils/sanitize.js",
          JS_BASE + "/api.js",
          JS_BASE + "/router.js",
          JS_BASE + "/state.js",
          JS_BASE + "/map/map.js",
          JS_BASE + "/map/markers.js",
          JS_BASE + "/ui/list.js",
          JS_BASE + "/ui/panel.js",
          JS_BASE + "/ui/comments.js",
          JS_BASE + "/ui/slideshowModal.js",
          JS_BASE + "/app.js"
        ];

        scripts.forEach(function (src) {
          var s = document.createElement("script");
          s.src = src;
          s.defer = true;
          document.head.appendChild(s);
        });
      });
  })();
  </script>
</body>
</html>