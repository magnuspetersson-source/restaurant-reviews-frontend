<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Restaurant Reviews (Local test)</title>

  <link rel="stylesheet" href="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/css/public.css" />
  <link rel="icon" href="data:," />
</head>
<body>

  <div id="app" data-api-base="https://restaurant-reviews-backend-xi.vercel.app"></div>
  <script>
    (function () {
      var isLocal =
        location.hostname === "localhost" ||
        location.hostname === "127.0.0.1";
  
      if (!isLocal) return;
  
      var style = document.createElement("style");
      style.id = "rr-local-dev-style";
      style.textContent = `
        /* ===========================
           LOCAL DEV STYLES (ONLY)
           =========================== */
  
        body {
          background: #f5f5f5 !important;
          color: #111 !important;
        }
  
        #app {
          background: #fff !important;
          color: #111 !important;
          min-height: 100vh;
        }
  
        /* Text – tvinga läsbarhet */
        h1, h2, h3, h4, h5, h6,
        p, span, li, div, label {
          color: #111 !important;
        }
  
        a {
          color: #005fcc !important;
        }
  
        /* Review list */
        .reviewItem,
        .reviewCard,
        .listItem {
          background: #fafafa !important;
          border: 1px solid #ddd !important;
          border-radius: 6px;
        }
  
        /* Panel */
        aside.panel {
          background: #ffffff !important;
          color: #111 !important;
          box-shadow: 0 0 0 1px #ddd, 0 10px 30px rgba(0,0,0,.15) !important;
        }
  
        aside.panel * {
          color: #111 !important;
        }
  
        /* Buttons */
        button,
        .btn,
        .iconBtn {
          background: #eee !important;
          color: #111 !important;
          border: 1px solid #ccc !important;
        }
  
        button:hover {
          background: #e0e0e0 !important;
        }
  
        /* Inputs / textarea */
        input,
        textarea,
        select {
          background: #fff !important;
          color: #111 !important;
          border: 1px solid #bbb !important;
        }
  
        /* Google map container */
        #map,
        .map,
        .mapContainer {
          background: #ddd !important;
        }
  
        /* Slideshow modal */
        .slideshowModal,
        .modal,
        .overlay {
          background: rgba(0,0,0,.6) !important;
        }
  
        .slideshowModal img {
          background: #000 !important;
        }
  
        /* Debug helper (optional) */
        .debug,
        .devOnly {
          outline: 1px dashed red;
        }
      `;
  
      document.head.appendChild(style);
      console.log("[RR] Local dev styles injected");
    })();
  </script>
  <!--
    VIKTIGT: Se till att config.local.js exekverar INNAN config.js (ingen race).
    document.write gör att script-taggen hamnar "i flödet" före defer-kedjan.
  -->
  <script>
    (function () {
      var isLocal = (location.hostname === "localhost" || location.hostname === "127.0.0.1");
      if (!isLocal) return;
      var v = Date.now(); // cache-bust
      document.write('<script src="/js/config.local.js?v=' + v + '"><\/script>');
      console.log("[RR] Injected blocking /js/config.local.js");
    })();
  </script>

  <!-- Resten: så nära Squarespace-kodblocket som möjligt -->
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/config.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/utils/dom.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/utils/format.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/utils/sanitize.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/api.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/router.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/state.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/map/map.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/map/markers.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/ui/list.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/ui/panel.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/ui/comments.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/ui/slideshowModal.js" defer></script>
  <script src="https://magnuspetersson-source.github.io/restaurant-reviews-frontend/js/app.js" defer></script>

</body>
</html>